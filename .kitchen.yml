---
driver_plugin: vagrant

driver_config:
  customize:
    memory: 1024

driver:
  name: vagrant

provisioner:
  name: chef_solo

platforms:
- name: ubuntu-12.04
  driver_config:
    box: opscode-ubuntu-12.04
    box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-12.04_chef-provisionerless.box
    require_chef_omnibus: latest
- name: ubuntu-12.10
  driver_config:
    box: opscode-ubuntu-12.10
    box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-12.10_chef-provisionerless.box
    require_chef_omnibus: latest
- name: ubuntu-13.04
  driver_config:
    box: opscode-ubuntu-13.04
    box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-13.04_chef-provisionerless.box
    require_chef_omnibus: latest
- name: ubuntu-13.10
  driver_config:
    box: opscode-ubuntu-13.10
    box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-13.10_chef-provisionerless.box
    require_chef_omnibus: latest

suites:
  - name: default
    run_list:
      - recipe[drone::default]
  - name: mysql
    run_list:
      - recipe[apt::default]
      - recipe[drone::default]
    attributes:
      drone:
        droned_opts:
          driver: mysql
      mysql:
        server_debian_password: 'ilikesecurepasswords'
        server_root_password: 'ilikesecurepasswords'
        server_repl_password: 'ilikesecurepasswords'
        bind_address: '0.0.0.0'
